/* THEME TOKENS */
:root{
  --fs-base:14px;             /* updated by accessibility setting */
  --bg:#f7f7fb;
  --card:#ffffff;
  --text:#1f2328;
  --muted:#6b7280;
  --primary:#2563eb;
  --primary-ghost:#e4edff;
  --border:#e5e7eb;
  --accent:#10b981;
  --danger:#ef4444;
}

:root.dark{
  --bg:#121418;
  --card:#1a1f25;
  --text:#e5e7eb;
  --muted:#9aa3af;
  --primary:#60a5fa;
  --primary-ghost:#1e293b;
  --border:#2b3440;
  --accent:#34d399;
  --danger:#f87171;
}

/* Accessibility manager support: apply via body.dark-mode */
body.dark-mode{
  --bg:#121418;
  --card:#1a1f25;
  --text:#e5e7eb;
  --muted:#9aa3af;
  --primary:#60a5fa;
  --primary-ghost:#1e293b;
  --border:#2b3440;
  --accent:#34d399;
  --danger:#f87171;
}

/* Optional high-contrast override */
body.high-contrast{
  --bg:#ffffff;
  --card:#ffffff;
  --text:#000000;
  --muted:#1f2937;
  --primary:#000000;
  --primary-ghost:#e5e7eb;
  --border:#111827;
  --accent:#000000;
}


/* BASE */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-size:var(--fs-base);
  line-height:1.45;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
}

/* LAYOUT */
.app{display:grid; grid-template-columns:240px 1fr; min-height:100vh;}
.sidebar{
  background:var(--card);
  border-right:1px solid var(--border);
  padding:16px;
  position:sticky; top:0; align-self:start; height:100dvh;
  display:flex; flex-direction:column; gap:16px;
}
.brand{display:flex; align-items:center; gap:8px; font-weight:700}
.logo{font-size:20px}
.nav{display:flex; flex-direction:column; gap:6px}
.nav-link{
  text-align:left; border:1px solid transparent;
  background:transparent; color:var(--text);
  padding:10px 12px; border-radius:10px; cursor:pointer;
}
.nav-link:hover{background:var(--primary-ghost)}
.nav-link.active{background:var(--primary-ghost); border-color:var(--border)}
.sidebar-footer{margin-top:auto}
.settings-btn{width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:transparent; cursor:pointer}
.settings-btn:hover{background:var(--primary-ghost)}

.main{padding:20px}
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:16px;
}
.pill{border:1px solid var(--border); padding:6px 10px; border-radius:999px; font-size:12px; color:var(--muted)}
.meta-right{display:flex; gap:8px}
.profile-mini{display:flex; align-items:center; gap:10px}
.avatar-sm{width:36px; height:36px; border-radius:50%; object-fit:cover; border:1px solid var(--border)}
.avatar-md{width:72px; height:72px; border-radius:50%; object-fit:cover; border:1px solid var(--border)}
.avatar-lg{width:84px; height:84px; border-radius:50%; object-fit:cover; border:2px solid var(--border)}

.view{display:none}
.view.visible{display:block}

.grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:16px}
.grid-4{display:grid; grid-template-columns:repeat(4,1fr); gap:16px}
.grid-2{display:grid; grid-template-columns:1fr 1fr; gap:16px}

.card{
  background:var(--card); border:1px solid var(--border);
  border-radius:14px; padding:16px;
}
.card-title{font-weight:700; margin-bottom:10px}
.card-title.sm{font-size:13px; color:var(--muted); margin-bottom:6px}
.mt{margin-top:16px}

.btn{background:var(--primary); color:#fff; border:none; border-radius:10px; padding:10px 14px; cursor:pointer}
.btn:hover{opacity:.95}
.btn.ghost{
  background:linear-gradient(180deg, rgba(37,99,235,.10), rgba(37,99,235,.04));
  color:var(--text);
  border:1px solid var(--border);
  box-shadow: 0 1px 2px rgba(0,0,0,.04), inset 0 0 0 1px rgba(255,255,255,.03);
  transition: transform .15s ease, box-shadow .25s ease, border-color .25s ease;
}
.btn.ghost:hover{
  transform: translateY(-1px);
  border-color: rgba(37,99,235,.35);
  box-shadow: 0 8px 24px rgba(37,99,235,.2), inset 0 0 0 1px rgba(255,255,255,.05);
}

#settingsFromOverview{
  position:relative;
  overflow:hidden;
  border-radius:12px;
  border:1px solid transparent;
  background: linear-gradient(#0000,#0000) padding-box,
             linear-gradient(135deg, var(--primary), var(--accent)) border-box;
  color:#ffffff;
}
#settingsFromOverview::after{
  content:"";
  position:absolute; inset:-60% -60% auto auto;
  width:200%; height:200%;
  background: conic-gradient(from 0deg, transparent, rgba(255,255,255,.12), transparent 30%);
  animation: sweep 8s linear infinite;
  pointer-events:none;
}
#settingsFromOverview:hover{ transform: translateY(-1px); box-shadow: 0 10px 28px rgba(37,99,235,.25); }
@keyframes sweep{ to{ transform: rotate(360deg); } }
.link{border:1px solid var(--border); background:transparent; padding:10px 12px; border-radius:10px; cursor:pointer}
.link:hover{background:var(--primary-ghost)}
.link.danger{border-color:var(--danger); color:var(--danger)}
.link.primary{border-color:var(--primary); color:var(--primary)}

.profile-card{display:flex; gap:12px; align-items:center}
.pc-meta .title{font-weight:700}
.subtle{color:var(--muted); font-size:13px}

.table{width:100%; border-collapse:collapse}
.table th,.table td{border-bottom:1px solid var(--border); padding:10px; text-align:left; font-size:13px}
.badge{display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; border:1px solid var(--border)}
.badge.processing{background:#fff7ed}
.badge.shipped{background:#eff6ff}
.badge.delivered{background:#ecfdf5}
.badge.returned{background:#fef2f2}

/* Forms */
.form{display:flex; flex-direction:column; gap:12px}
.row{display:flex; gap:12px; flex-wrap:wrap}
.col{flex:1 1 240px; min-width:240px}
.col.sm{flex:0 0 220px}
input,select,textarea{
  width:100%; background:transparent; color:var(--text);
  padding:10px 12px; border-radius:10px; border:1px solid var(--border)
}
input::placeholder{color:var(--muted)}
details{border:1px solid var(--border); border-radius:10px; padding:10px 12px; background:var(--card)}
details summary{cursor:pointer}

/* Switch */
.switch{display:flex; align-items:center; gap:10px}
.switch input{accent-color:var(--primary)}

/* Lists & special cards */
.cards-list{display:flex; flex-direction:column; gap:10px}
.card-row{display:flex; align-items:center; justify-content:space-between; border:1px solid var(--border); border-radius:10px; padding:10px 12px}
.list{display:flex; flex-direction:column; gap:8px}

/* Settings Off-canvas */
.settings{
  position:fixed; inset:0 0 0 auto; width:520px; max-width:100%;
  /* Force light theme inside the panel for readability */
  --card:#ffffff; --text:#1f2328; --muted:#6b7280; --border:#e5e7eb; --primary-ghost:#e4edff;
  background:#ffffff;
  border-left:1px solid var(--border);
  translate:100% 0;
  transition: translate .35s cubic-bezier(.22,.61,.36,1), box-shadow .35s ease;
  display:flex; flex-direction:column; z-index:40;
  border-top-left-radius:16px; border-bottom-left-radius:16px;
  box-shadow: -12px 0 40px rgba(0,0,0,.18);
}
.settings.open{translate:0 0}
.settings-header{
  position: sticky; top: 0; z-index: 2;
  display:flex; align-items:center; justify-content:space-between;
  padding:16px 18px;
  background:#ffffff;
  border-bottom:1px solid var(--border);
}
.settings-body{
  padding:18px; overflow:auto;
  scrollbar-width: thin; scrollbar-color: rgba(255,255,255,.25) transparent;
}
.settings-body::-webkit-scrollbar{ width:10px; }
.settings-body::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.22); border-radius: 8px; }
.settings-body::-webkit-scrollbar-track{ background: transparent; }
.icon-btn{border:none; background:transparent; font-size:20px; cursor:pointer}
.settings-actions{
  position: sticky; bottom: 0; z-index: 2;
  display:flex; gap:10px; margin-top:12px;
  padding:12px 0 4px;
  background:#ffffff;
  border-top:1px solid var(--border);
}

/* Settings form visual upgrades */
.settings-body fieldset{
  border:1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border-radius:12px; padding:12px; margin-bottom:12px;
}
.settings-body legend{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 10px; border-radius:999px;
  background: var(--primary-ghost); color: var(--text);
  font-weight:700; font-size:12px; letter-spacing:.2px;
}
.settings-body .row{ gap:14px; }
.settings-body input,
.settings-body select,
.settings-body textarea{
  transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
  background: rgba(255,255,255,.02);
}
.settings-body input:focus,
.settings-body select:focus,
.settings-body textarea:focus{
  outline:none; border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(37,99,235,.25);
  background: rgba(255,255,255,.04);
}
.file span{
  display:inline-block; padding:10px 12px;
  border:1px dashed var(--border); border-radius:10px;
  background: rgba(255,255,255,.04);
}

.backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.35); z-index:30;
}

/* Wishlist */
.wish-card{
  border:1px solid var(--border); border-radius:12px; background:var(--card); padding:12px;
  display:flex; flex-direction:column; gap:8px
}
.wish-thumb{width:100%; aspect-ratio:1.4/1; object-fit:cover; border-radius:10px; border:1px solid var(--border)}
.wish-actions{display:flex; gap:8px}

/* Cart */
.qty{
  display:inline-flex; align-items:center; gap:6px;
  border:1px solid var(--border); border-radius:999px; padding:2px 6px;
}
.qty button{border:none; background:transparent; padding:4px; cursor:pointer}
.total-line{display:flex; justify-content:space-between; margin:6px 0}
.total-line strong{font-weight:700}

/* Ensure View Store anchor matches button nav-link styling */
.nav a.nav-link{ display:block; text-decoration:none; }

/* Responsive */
@media (max-width: 1000px){
  .grid-3{grid-template-columns:1fr}
  .grid-4{grid-template-columns:1fr 1fr}
  .grid-2{grid-template-columns:1fr}
  .app{grid-template-columns:1fr}
  .sidebar{position:static; height:auto}
}
